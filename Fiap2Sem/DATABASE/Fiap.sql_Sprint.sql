/* Nome do grupo e RM dos componentes */
 
/* DDL - Criação das Tabelas */
 
CREATE TABLE USUARIO_FW (
    id_usuario NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    nome_completo VARCHAR2(100) NOT NULL,
    email VARCHAR2(100) UNIQUE NOT NULL,
    senha VARCHAR2(100) NOT NULL,
    cpf VARCHAR2(100) UNIQUE NOT NULL,
    data_nascimento DATE NOT NULL,
    telefone VARCHAR2(100),
    cidade VARCHAR2(100),
    bairro VARCHAR2(100),
    logradouro VARCHAR2(150),
    uf CHAR(2),
    complemento VARCHAR2(100)
);
 
CREATE TABLE CARRO_FW (
    id_carro NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    marca VARCHAR2(50) NOT NULL,
    modelo VARCHAR2(50) NOT NULL,
    ano NUMBER(4) NOT NULL,
    placa VARCHAR2(10) UNIQUE NOT NULL,
    usuario_id NUMBER NOT NULL,
    data_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (usuario_id) REFERENCES USUARIO_FW(id_usuario)
);
 
CREATE TABLE OFICINA_FW (
    id_oficina NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    nome VARCHAR2(100) NOT NULL,
    telefone VARCHAR2(15),
    endereco VARCHAR2(255),
    email VARCHAR2(100),
    avaliacao NUMBER(2,1)
);
 
CREATE TABLE DIAGNOSTICO_FW (
    id_diagnostico NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    usuario_id NUMBER NOT NULL,
    carro_id NUMBER NOT NULL,
    oficina_id NUMBER,
    problema VARCHAR2(255) NOT NULL,
    o_que_aconteceu CLOB,
    data_diagnostico TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (usuario_id) REFERENCES USUARIO_FW(id_usuario),
    FOREIGN KEY (carro_id) REFERENCES CARRO_FW(id_carro),
    FOREIGN KEY (oficina_id) REFERENCES OFICINA_FW(id_oficina)
);
 
CREATE TABLE ORCAMENTO_FW (
    id_orcamento NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    diagnostico_id NUMBER NOT NULL,
    valor NUMBER(10,2) NOT NULL,
    detalhes CLOB,
    data_orcamento TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status VARCHAR2(10) CHECK (status IN ('Pendente', 'Aprovado', 'Rejeitado')) NOT NULL,
    FOREIGN KEY (diagnostico_id) REFERENCES DIAGNOSTICO_FW(id_diagnostico)
);
 
CREATE TABLE HISTORICO_SERVICO_FW (
    id_historico NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    carro_id NUMBER NOT NULL,
    descricao CLOB NOT NULL,
    data_servico TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    oficina_id NUMBER NOT NULL,
    custo NUMBER(10,2) NOT NULL,
    FOREIGN KEY (carro_id) REFERENCES CARRO_FW(id_carro),
    FOREIGN KEY (oficina_id) REFERENCES OFICINA_FW(id_oficina)
);
 
CREATE TABLE PECAS_FW (
    id_peca NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    nome VARCHAR2(100) NOT NULL,
    descricao CLOB,
    preco NUMBER(10,2) NOT NULL,
    quantidade_estoque NUMBER NOT NULL
);
 
CREATE TABLE ORCAMENTO_PECAS_FW (
    id_orcamento_peca NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    orcamento_id NUMBER NOT NULL,
    peca_id NUMBER NOT NULL,
    quantidade NUMBER NOT NULL,
    FOREIGN KEY (orcamento_id) REFERENCES ORCAMENTO_FW(id_orcamento),
    FOREIGN KEY (peca_id) REFERENCES PECAS_FW(id_peca)
);
 
CREATE TABLE FUNCIONARIO_FW (
    id_funcionario NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    nome VARCHAR2(100) NOT NULL,
    cargo VARCHAR2(50) NOT NULL,
    telefone VARCHAR2(15),
    email VARCHAR2(100),
    data_admissao DATE NOT NULL,
    salario NUMBER(10,2) NOT NULL
);


 
CREATE TABLE FEEDBACK_FW (
    id_feedback NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    usuario_id NUMBER NOT NULL,
    oficina_id NUMBER NOT NULL,
    avaliacao NUMBER(2,1) NOT NULL,
    comentario CLOB,
    data_feedback TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (usuario_id) REFERENCES USUARIO_FW(id_usuario),
    FOREIGN KEY (oficina_id) REFERENCES OFICINA_FW(id_oficina)
);
 

/* DML - Inserção de Dados para Teste */

-- Inserindo dados na tabela USUARIO_FW
INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Gustavo Lima', 'GuLima.souza@email.com', 'senha123', '98798798765', TO_DATE('1985-11-20', 'YYYY-MM-DD'), '11944444444', 'São Paulo', 'Centro', 'Rua Z', 'PR', 'Apto 17');

INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Giulio Fernandes', 'Giulio.F@email.com', 'senha123', '98798221535', TO_DATE('1975-12-20', 'YYYY-MM-DD'), '11955555555', 'São Paulo', 'ZL', 'Rua V', 'PR', 'Apto 302');

INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Bruno Santos', 'bruno.santos@email.com', 'senha123', '45645645678', TO_DATE('1994-03-25', 'YYYY-MM-DD'), '11933333333', 'São Paulo', 'Zona Oeste', 'Rua G', 'SP', 'Casa');

INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Fernanda Lima', 'fernanda.lima@email.com', 'senha123', '78978978900', TO_DATE('1991-07-10', 'YYYY-MM-DD'), '11922222222', 'São Paulo', 'Zona Sul', 'Rua H', 'SP', 'Casa');

INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Lucas Pereira', 'lucas.pereira@email.com', 'senha123', '23423423456', TO_DATE('1993-09-17', 'YYYY-MM-DD'), '11911111111', 'São Paulo', 'Zona Leste', 'Rua I', 'SP', 'Apto 5');

INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Paula Mendes', 'paula.mendes@email.com', 'senha123', '34534534567', TO_DATE('1995-12-12', 'YYYY-MM-DD'), '11900000000', 'São Paulo', 'Moema', 'Rua J', 'RJ', 'Apto 3');

INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Rafael Costa', 'rafael.costa@email.com', 'senha123', '45645645689', TO_DATE('1996-04-18', 'YYYY-MM-DD'), '11910101010', 'São Paulo', 'Brooklin', 'Rua K', 'RJ', 'Casa');

INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Tatiana Rocha', 'tatiana.rocha@email.com', 'senha123', '56756756790', TO_DATE('1992-08-28', 'YYYY-MM-DD'), '11920202020', 'São Paulo', 'Pinheiros', 'Rua L', 'RJ', 'Apto 12');

INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Carlos Silva', 'carlos@email.com', 'senha123', '12345678901', TO_DATE('1990-01-01', 'YYYY-MM-DD'), '11999999999', 'São Paulo', 'Centro', 'Rua A', 'SP', 'Apto 10');

INSERT INTO USUARIO_FW (nome_completo, email, senha, cpf, data_nascimento, telefone, cidade, bairro, logradouro, uf, complemento) VALUES
('Maria Oliveira', 'maria@email.com', 'senha123', '98765432100', TO_DATE('1992-02-02', 'YYYY-MM-DD'), '11988888888', 'São Paulo', 'Zona Leste', 'Rua B', 'PR', 'Casa');


 
-- Inserindo dados na tabela CARRO_FW
INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Toyota', 'Corolla', 2020, 'ABC1234', 1);

INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Honda', 'Civic', 2019, 'DEF5678', 2);

INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Ford', 'Focus', 2018, 'GHI9012', 3);

INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Chevrolet', 'Onix', 2021, 'JKL3456', 4);

INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Volkswagen', 'Golf', 2017, 'MNO7890', 5);

INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Fiat', 'Argo', 2020, 'PQR1234', 6);

INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Hyundai', 'HB20', 2019, 'STU5678', 7);

INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Nissan', 'Versa', 2018, 'VWX9012', 8);

INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Renault', 'Sandero', 2021, 'YZA3456', 9);

INSERT INTO CARRO_FW (marca, modelo, ano, placa, usuario_id) VALUES
('Jeep', 'Renegade', 2020, 'BCD7890', 10);


 
-- Inserindo dados na tabela OFICINA_FW
INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Oficina do Pedro', '11955555555', 'Rua E, 300', 'pedro@oficina.com', 3.8);

INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Auto Center Brasil', '11944444444', 'Avenida Brasil, 50', 'contato@autocenterbrasil.com', 4.7);

INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Mecânica Total', '11933333333', 'Rua F, 400', 'total@meccanica.com', 4.2);

INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Serviço Rápido', '11922222222', 'Avenida Central, 60', 'contato@servicorapido.com', 3.9);

INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Oficina do Marcos', '11911111111', 'Rua G, 500', 'marcos@oficina.com', 4.1);

INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Auto Peças Silva', '11988888888', 'Avenida Paulista, 123', 'silva@autopecas.com', 4.6);

INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Reparo e Cia', '11977777777', 'Rua H, 700', 'contato@reparoecia.com', 4.3);

INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Oficina do Zé', '11966666666', 'Rua I, 800', 'ze@oficina.com', 3.7);

INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Oficina do João', '11977777777', 'Rua C, 100', 'joao@oficina.com', 4.5);

INSERT INTO OFICINA_FW (nome, telefone, endereco, email, avaliacao) VALUES
('Oficina da Maria', '11966666666', 'Rua D, 200', 'maria@oficina.com', 4.0);

-- Inserindo dados na tabela DIAGNOSTICO_FW

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(1, 1, 1, 'Motor falhando', 'O motor apresentou falhas após o uso de combustível adulterado');

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(2, 2, 2, 'Motor falhando', 'O motor apresentou falhas após o uso de combustível adulterado');

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(3, 3, 3, 'Suspensão danificada', 'Desgaste excessivo na suspensão devido a buracos na estrada');

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(4, 4, 4, 'Bateria descarregando', 'Bateria com falhas frequentes de recarga');

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(5, 5, 5, 'Aquecimento no motor', 'Motor superaquece após 30 minutos de uso contínuo');

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(6, 6, 6, 'Vazamento de óleo', 'Vazamento encontrado próximo ao cárter');

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(7, 7, 7, 'Ar condicionado não funciona', 'Ar condicionado não refrigera corretamente');

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(8, 8, 8, 'Problema no sistema elétrico', 'Curto-circuito ao ligar os faróis');

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(9, 9, 9, 'Pneus desgastados', 'Desgaste desigual nos pneus dianteiros');

INSERT INTO DIAGNOSTICO_FW (usuario_id, carro_id, oficina_id, problema, o_que_aconteceu) VALUES
(10, 10, 10, 'Freios travando', 'Freios dianteiros travam durante frenagens bruscas');


-- Inserindo dados na tabela ORCAMENTO_FW
INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(1, 1500.00, 'Troca de peças e reparo no motor', 'Pendente');

INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(2, 800.00, 'Substituição das pastilhas de freio', 'Aprovado');

INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(3, 1200.00, 'Reparo na suspensão e alinhamento', 'Pendente');

INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(4, 600.00, 'Troca da bateria e recarga', 'Aprovado');

INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(5, 2000.00, 'Reparo completo do sistema de ar condicionado', 'Rejeitado');

INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(6, 300.00, 'Troca de óleo e filtro', 'Pendente');

INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(7, 500.00, 'Substituição de mangueiras e vazamentos', 'Aprovado');

INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(8, 750.00, 'Troca de pneus e balanceamento', 'Pendente');

INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(9, 400.00, 'Reparo no sistema elétrico', 'Aprovado');

INSERT INTO ORCAMENTO_FW (diagnostico_id, valor, detalhes, status) VALUES
(10, 1500.00, 'Troca de freios dianteiros e traseiros', 'Pendente');



 
-- Inserindo dados na tabela HISTORICO_SERVICO_FW
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (1, 'Reparo no motor', 1, 1400.00);
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (2, 'Substituição das pastilhas de freio', 2, 750.00);
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (3, 'Alinhamento e balanceamento', 1, 200.00);
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (4, 'Troca de bateria', 2, 300.00);
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (5, 'Reparo do ar condicionado', 1, 1200.00);
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (6, 'Troca de óleo e filtro', 2, 100.00);
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (7, 'Substituição de mangueiras', 1, 150.00);
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (8, 'Reparo no sistema elétrico', 2, 500.00);
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (9, 'Troca de pneus', 1, 600.00);
INSERT INTO HISTORICO_SERVICO_FW (carro_id, descricao, oficina_id, custo) VALUES (10, 'Verificação de suspensão', 2, 400.00);

DELETE FROM HISTORICO_SERVICO_FW WHERE ID_HISTORICO = 11;

-- Inserindo dados na tabela PECAS_FW
INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Filtro de óleo', 'Filtro para troca de óleo do motor', 50.00, 100);

INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Pastilha de freio', 'Pastilha para sistema de freio', 120.00, 50);

INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Óleo de motor', 'Óleo para motores a gasolina e etanol', 70.00, 200);

INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Bateria', 'Bateria automotiva de 60Ah', 300.00, 30);

INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Pneu', 'Pneu para veículos de passeio', 250.00, 40);

INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Cabo de vela', 'Cabo de vela para motor 1.0', 30.00, 120);

INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Farol', 'Farol dianteiro para carro popular', 150.00, 80);

INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Suspensão', 'Conjunto de amortecedores para veículo', 400.00, 20);

INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Correia dentada', 'Correia dentada para motor 1.6', 100.00, 60);

INSERT INTO PECAS_FW (nome, descricao, preco, quantidade_estoque) VALUES 
('Vela de ignição', 'Vela de ignição para motores a gasolina', 25.00, 150);



-- Inserindo dados na tabela ORCAMENTO_PECAS_FW
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (1, 1, 2);  -- Filtro de óleo
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (2, 2, 4);  -- Pastilha de freio
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (1, 3, 5);  -- Óleo de motor
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (1, 4, 1);  -- Bateria
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (2, 5, 2);  -- Pneu
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (2, 6, 3);  -- Cabo de vela
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (1, 7, 2);  -- Farol
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (2, 8, 1);  -- Suspensão
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (1, 9, 1);  -- Correia dentada
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (3, 1, 3);  -- Filtro de óleo
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (3, 2, 2);  -- Pastilha de freio
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (3, 3, 4);  -- Óleo de motor
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (3, 4, 1);  -- Bateria
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (3, 5, 2);  -- Pneu
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (3, 6, 1);  -- Cabo de vela
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (4, 7, 1);  -- Farol
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (4, 8, 3);  -- Suspensão
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (4, 9, 2);  -- Correia dentada
INSERT INTO ORCAMENTO_PECAS_FW (orcamento_id, peca_id, quantidade) VALUES (2, 1, 1);  -- Filtro de óleo




-- Inserindo dados na tabela FUNCIONARIO_FW
INSERT INTO FUNCIONARIO_FW (nome, cargo, telefone, email, data_admissao, salario) VALUES ('João da Silva', 'Mecânico', '11955555555', 'joao@oficina.com', TO_DATE('2020-05-05', 'YYYY-MM-DD'), 3500.00);
INSERT INTO FUNCIONARIO_FW (nome, cargo, telefone, email, data_admissao, salario) VALUES ('Maria Santos', 'Atendente', '11944444444', 'maria@oficina.com', TO_DATE('2021-07-07', 'YYYY-MM-DD'), 2000.00);
INSERT INTO FUNCIONARIO_FW (nome, cargo, telefone, email, data_admissao, salario) VALUES ('Carlos Pereira', 'Mecânico', '11933333333', 'carlos@oficina.com', TO_DATE('2022-01-15', 'YYYY-MM-DD'), 3200.00);  -- Mecânico
INSERT INTO FUNCIONARIO_FW (nome, cargo, telefone, email, data_admissao, salario) VALUES ('Ana Costa', 'Atendente', '11922222222', 'ana@oficina.com', TO_DATE('2022-03-10', 'YYYY-MM-DD'), 2100.00);  -- Atendente
INSERT INTO FUNCIONARIO_FW (nome, cargo, telefone, email, data_admissao, salario) VALUES ('Fernando Lima', 'Gerente', '11911111111', 'fernando@oficina.com', TO_DATE('2019-08-20', 'YYYY-MM-DD'), 5000.00);  -- Gerente
INSERT INTO FUNCIONARIO_FW (nome, cargo, telefone, email, data_admissao, salario) VALUES ('Juliana Almeida', 'Mecânica', '11900000000', 'juliana@oficina.com', TO_DATE('2023-02-01', 'YYYY-MM-DD'), 3400.00);  -- Mecânica
INSERT INTO FUNCIONARIO_FW (nome, cargo, telefone, email, data_admissao, salario) VALUES ('Ricardo Martins', 'Estagiário', '11988888888', 'ricardo@oficina.com', TO_DATE('2023-05-01', 'YYYY-MM-DD'), 1500.00);  -- Estagiário
INSERT INTO FUNCIONARIO_FW (nome, cargo, telefone, email, data_admissao, salario) VALUES ('Patrícia Ferreira', 'Mecânica', '11977777777', 'patricia@oficina.com', TO_DATE('2021-12-12', 'YYYY-MM-DD'), 3300.00);  -- Mecânica
INSERT INTO FUNCIONARIO_FW (nome, cargo, telefone, email, data_admissao, salario) VALUES ('Bruno Souza', 'Atendente', '11966666666', 'bruno@oficina.com', TO_DATE('2022-09-09', 'YYYY-MM-DD'), 2200.00);  -- Atendente

 
-- Inserindo dados na tabela FEEDBACK_FW
INSERT INTO FEEDBACK_FW (usuario_id, oficina_id, avaliacao, comentario) VALUES (1, 1, 4.5, 'Ótimo atendimento e serviço');
INSERT INTO FEEDBACK_FW (usuario_id, oficina_id, avaliacao, comentario) VALUES (2, 2, 4.0, 'Boa qualidade, mas demorou um pouco');
INSERT INTO FEEDBACK_FW (usuario_id, oficina_id, avaliacao, comentario) VALUES (1, 2, 5.0, 'Serviço excepcional e muito rápido');  -- Usuário 1, Oficina 2
INSERT INTO FEEDBACK_FW (usuario_id, oficina_id, avaliacao, comentario) VALUES (2, 1, 3.5, 'Atendimento razoável, mas o custo foi alto');  -- Usuário 2, Oficina 1
INSERT INTO FEEDBACK_FW (usuario_id, oficina_id, avaliacao, comentario) VALUES (3, 1, 4.8, 'Ótima experiência, recomendo a todos');  -- Usuário 3, Oficina 1
INSERT INTO FEEDBACK_FW (usuario_id, oficina_id, avaliacao, comentario) VALUES (4, 2, 4.2, 'Serviço bom, mas poderiam ser mais atenciosos');  -- Usuário 4, Oficina 2
INSERT INTO FEEDBACK_FW (usuario_id, oficina_id, avaliacao, comentario) VALUES (5, 1, 3.0, 'Fui atendido, mas não fiquei satisfeito com o resultado');  -- Usuário 5, Oficina 1
INSERT INTO FEEDBACK_FW (usuario_id, oficina_id, avaliacao, comentario) VALUES (6, 2, 4.6, 'Rápido e eficiente, gostei muito do serviço');  -- Usuário 6, Oficina 2
INSERT INTO FEEDBACK_FW (usuario_id, oficina_id, avaliacao, comentario) VALUES (7, 1, 5.0, 'Excelente, com certeza voltarei!');  -- Usuário 7, Oficina 1


SELECT * FROM USUARIO_FW;
SELECT * FROM OFICINA_FW;
SELECT * FROM CARRO_FW;
SELECT * FROM DIAGNOSTICO_FW;
select * from ORCAMENTO_FW; 
SELECT * FROM HISTORICO_SERVICO_FW;
SELECT * FROM ORCAMENTO_PECAS_FW;
SELECT * FROM FUNCIONARIO_FW;
SELECT * FROM FEEDBACK_FW;
 
/* DQL - Consultas para Relatórios */
 
/* Relatório com classificação de dados */
SELECT * FROM OFICINA_FW ORDER BY avaliacao DESC;
 
/* Relatório utilizando função numérica simples */
SELECT AVG(avaliacao) AS avaliacao_media FROM OFICINA_FW;
 
/* Relatório utilizando função de grupo */
SELECT usuario_id, COUNT(*) AS total_diagnosticos 
FROM DIAGNOSTICO_FW 
GROUP BY usuario_id;
 
/* Relatório utilizando subconsulta */
SELECT nome_completo, email 
FROM USUARIO_FW 
WHERE id_usuario IN (SELECT usuario_id FROM DIAGNOSTICO_FW WHERE problema = 'Motor falhando');
 
/* Relatório utilizando junção de tabelas */
SELECT u.nome_completo, c.marca, c.modelo, d.problema 
FROM USUARIO_FW u
JOIN CARRO_FW c ON u.id_usuario = c.usuario_id
JOIN DIAGNOSTICO_FW d ON u.id_usuario = d.usuario_id;




